"use strict";angular.module("subskillApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/works",{action:"home",controller:"HomeCtrl"}).when("/works/:projectName",{action:"project",controller:"HomeCtrl"}).when("/about",{action:"about",controller:"HomeCtrl"}).when("/contact",{action:"contact",controller:"HomeCtrl"}).when("/news",{action:"news"}).otherwise({redirectTo:"/works"})}]),angular.module("subskillApp").controller("MainCtrl",["$scope","$timeout","$route","$routeParams",function(a,b,c,d){function e(){"home"==c.current.action?(a.$root.global.isAb=!1,a.$root.global.inAbout=!1,angular.element($("#content")).controller().initHome()):"about"==c.current.action?(a.$root.global.isAb=!0,a.$root.global.inAbout=!0,angular.element($("#content")).controller().launchAbout()):"contact"==c.current.action?(a.$root.global.isAb=!0,a.$root.global.inAbout=!0,angular.element($("#content")).controller().launchContact()):"project"==c.current.action&&1==a.$root.global.isAb?(a.$root.global.isAb=!1,a.$root.global.inAbout=!1,angular.element($("#content")).controller().initHome()):"project"==c.current.action&&0==a.$root.global.isAb&&0==a.$root.global.isFirstProject&&(a.$root.global.isAb=!1,a.$root.global.inAbout=!1,angular.element($("#content")).controller().initHome())}function f(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function g(){$.getJSON("works.json",function(b){a.$root.global.jsonObj=b.works,a.isLoaded=!0,h(),angular.element($("#content")).controller().changeProject();var c=!0;$.each(a.$root.global.jsonObj[0],function(){c=!1}),$(window).trigger("resize")})}function h(){a.$root.global.actualProject=d.projectName,null!=a.$root.global.jsonObj&&null==a.$root.global.actualProject&&$.each(a.$root.global.jsonObj[0],function(b){return a.$root.global.actualProject=b,!1})}function i(){if(62!=G){var a=parseInt(60*G);TweenMax.to($("#loader #logo"),0,{backgroundPosition:"0 -"+a+"px"}),G++}61==G&&(F=!0),62==G&&clearInterval(E)}function j(){$(".controls.left").bind("mouseover",a.$root.global.arrowLeftOver),$(".controls.left").bind("mouseleave",a.$root.global.arrowLeftLeave),$(".controls.right").bind("mouseover",a.$root.global.arrowRightOver),$(".controls.right").bind("mouseleave",a.$root.global.arrowRightLeave)}function k(){$(".controls.left").unbind("mouseover",a.$root.global.arrowLeftOver),$(".controls.left").unbind("mouseleave",a.$root.global.arrowLeftLeave),$(".controls.right").unbind("mouseover",a.$root.global.arrowRightOver),$(".controls.right").unbind("mouseleave",a.$root.global.arrowRightLeave)}function l(){$(".controls.left").bind("mouseover",a.$root.global.smallArrowOver),$(".controls.left").bind("mouseleave",a.$root.global.smallArrowLeave),$(".controls.right").bind("mouseover",a.$root.global.smallArrowOver),$(".controls.right").bind("mouseleave",a.$root.global.smallArrowLeave)}function m(){$(".controls.left").unbind("mouseover",a.$root.global.smallArrowOver),$(".controls.left").unbind("mouseleave",a.$root.global.smallArrowLeave),$(".controls.right").unbind("mouseover",a.$root.global.smallArrowOver),$(".controls.right").unbind("mouseleave",a.$root.global.smallArrowLeave)}function n(){function a(){c!=b?(TweenMax.to($(".controls.left"),0,{backgroundPosition:"0px -"+75*c+"px"}),TweenMax.to($(".controls.right"),0,{backgroundPosition:"0px -"+75*c+"px"}),c++):(clearInterval(d),m(),j())}$("#loader").remove();var b=26,c=0,d=setInterval(a,50)}function o(a){var b="half_"+a+"_left",c="half_"+a+"_right";$("#loader #loader_line").append("<div class='"+b+"'></div>"),$("#loader #loader_line").append("<div class='"+c+"'></div>"),$(".line").remove(),$("#logo").fadeOut(),TweenMax.to($("."+b),.3,{width:0,ease:Linear.easeNone}),TweenMax.to($("."+c),.3,{width:0,ease:Linear.easeNone}),TweenMax.to($("#loader #voletHaut"),.5,{delay:.3,top:"-50%",ease:Power1.easeInOut}),TweenMax.to($("#loader #voletBas"),.5,{delay:.3,top:"100%",ease:Power1.easeInOut,onComplete:n})}function p(){$("#loader #loader_line #red_line").css("width","0"),$("#loader #loader_line #red_line").css("marginLeft","0"),$("#loader #loader_line #red_line").css("z-index","3"),$("#loader #loader_line #white_line").css("z-index","2"),$("#loader #loader_line #green_line").css("z-index","1"),0==F?(TweenMax.to($("#loader #loader_line #white_line"),.3,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone}),TweenMax.to($("#loader #loader_line #red_line"),.3,{width:"50%",marginLeft:"-25%",ease:Linear.easeNone,onComplete:q})):(TweenMax.to($("#loader #loader_line #white_line"),.3,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone}),TweenMax.to($("#loader #loader_line #red_line"),.6,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone,onComplete:o("red")}))}function q(){$("#loader #loader_line #green_line").css("width","0"),$("#loader #loader_line #green_line").css("marginLeft","0"),$("#loader #loader_line #green_line").css("z-index","3"),$("#loader #loader_line #red_line").css("z-index","2"),$("#loader #loader_line #white_line").css("z-index","1"),0==F?(TweenMax.to($("#loader #loader_line #red_line"),.3,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone}),TweenMax.to($("#loader #loader_line #green_line"),.3,{width:"50%",marginLeft:"-25%",ease:Linear.easeNone,onComplete:r})):(TweenMax.to($("#loader #loader_line #red_line"),.3,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone}),TweenMax.to($("#loader #loader_line #green_line"),.6,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone,onComplete:o("green")}))}function r(){$("#loader #loader_line #white_line").css("width","0"),$("#loader #loader_line #white_line").css("marginLeft","0"),$("#loader #loader_line #white_line").css("z-index","3"),$("#loader #loader_line #green_line").css("z-index","2"),$("#loader #loader_line #red_line").css("z-index","1"),0==F?(TweenMax.to($("#loader #loader_line #green_line"),.3,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone}),TweenMax.to($("#loader #loader_line #white_line"),.3,{width:"50%",marginLeft:"-25%",ease:Linear.easeNone,onComplete:p})):(TweenMax.to($("#loader #loader_line #green_line"),.3,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone}),TweenMax.to($("#loader #loader_line #white_line"),.6,{width:"100%",marginLeft:"-50%",ease:Linear.easeNone,onComplete:o("white")}))}function s(){function a(){15>b?(TweenMax.to($(".headerFacebook"),0,{backgroundPosition:"0px -"+52*b+"px"}),b++):clearInterval(H)}var b=0;H=setInterval(a,25)}function t(){clearInterval(H),$(".headerFacebook").css("background-position","0 0")}function u(){function a(){16>b?(TweenMax.to($(".headerTwitter"),0,{backgroundPosition:"0px -"+52*b+"px"}),b++):clearInterval(I)}var b=0;I=setInterval(a,25)}function v(){clearInterval(I),$(".headerTwitter").css("background-position","0 0")}function w(){$(".arrowBotAbout").unbind("click",x),$(".arrowTopAbout").unbind("click",y),0==a.$root.global.aboutActivePart?($(".arrowTopAbout").css("display","none"),$(".arrowBotAbout").css("display","block")):a.$root.global.aboutActivePart>0&&a.$root.global.aboutActivePart<2?($(".arrowTopAbout").css("display","block"),$(".arrowBotAbout").css("display","block")):a.$root.global.aboutActivePart>=2&&($(".arrowTopAbout").css("display","block"),$(".arrowBotAbout").css("display","none")),angular.element($("#content")).controller().launchAbout(),TweenMax.to($(".partContainer"),.5,{top:"-"+a.$root.global.aboutActivePart*a.$root.global._WH+"px",ease:Linear.easeNone,onComplete:function(){$("#about").bind("mousewheel",a.$root.global.mouseWheelAbout),$(".arrowBotAbout").bind("click",x),$(".arrowTopAbout").bind("click",y)}})}function x(){a.$root.global.aboutActivePart<2&&(a.$root.global.aboutActivePart++,w())}function y(){a.$root.global.aboutActivePart>0&&(a.$root.global.aboutActivePart--,w())}function z(){$(".projectActive .facebookProject").unbind("mouseover"),TweenMax.to($(".projectActive .facebookProject"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .facebookProject").bind("mouseover",z)}})}function A(){$(".projectActive .twitterProject").unbind("mouseover"),TweenMax.to($(".projectActive .twitterProject"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .twitterProject").bind("mouseover",A)}})}function B(){$(".imagePictoMail").unbind("mouseover"),TweenMax.to($(".imagePictoMail"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".imagePictoMail").bind("mouseover",B)}})}function C(){$(".imagePictoLoca").unbind("mouseover"),TweenMax.to($(".imagePictoLoca"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".imagePictoLoca").bind("mouseover",C)}})}function D(){$(".imagePictoCall").unbind("mouseover"),TweenMax.to($(".imagePictoCall"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".imagePictoCall").bind("mouseover",D)}})}a.isLoaded=!1,a.isHome=!0,$("html").on("keydown",function(a){var b=a.keyCode?a.keyCode:a.which;(32==b||40==b||38==b||37==b||39==b)&&a.preventDefault()}),$("img").mousedown(function(){return!1}),a.$root.global={_WW:$(window).width(),_WH:$(window).height(),isUp:!1,isAb:!1,kindofSwitch:null,isSwitching:!1,isDirectUrl:!1,previousHash:null,jsonObj:null,actualProject:null,isFirstProject:!0,flip:1,inGallery:!1,positionScroll:0,arrowLeftOver:null,arrowLeftLeave:null,arrowRightOver:null,arrowRightLeave:null,fbURL:window.location.protocol+"//"+window.location.hostname+window.location.pathname+"metas.php",tweetDesc:"Venez découvrir le nouveau projet de Subskill !!",fbDesc:"Venez découvrir le nouveau projet de Subskill !!",activeScroll:null,inAbout:!1,aboutAllowScroll:!0,aboutActivePart:0,prevAbout:!1},$(window).bind("resize",function(){a.$root.global._WW=$(window).width(),a.$root.global._WH=$(window).height(),$(".project .projectHome").css("height",a.$root.global._WH),$(".project .projectGallery").css("height",a.$root.global._WH-parseInt($("#header").css("height"))),$(".projectHomeImg img").each(function(){angular.element($("#content")).controller().resizeImg($(this))}),$(".page").css("height",a.$root.global._WH+"px"),$(".partContainer").css("top","-"+a.$root.global.aboutActivePart*a.$root.global._WH+"px"),a.$root.global._WH>840?(TweenMax.to($(".part-duration"),0,{scale:1}),TweenMax.to($(".part-partners"),0,{scale:1})):a.$root.global._WH<840&&a.$root.global._WH>740?(TweenMax.to($(".part-duration"),0,{scale:.8}),TweenMax.to($(".part-partners"),0,{scale:1})):a.$root.global._WH<740&&a.$root.global._WH>600?(TweenMax.to($(".part-duration"),0,{scale:.6}),TweenMax.to($(".part-partners"),0,{scale:.8})):a.$root.global._WH<600&&(TweenMax.to($(".part-duration"),0,{scale:.4}),TweenMax.to($(".part-partners"),0,{scale:.6}));var b=a.$root.global._WH-350;$("#contactMap").css("height",b+"px");{var c={zoom:17,center:new google.maps.LatLng(48.8700000,2.38897),disableDefaultUI:!0,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]}]},d=document.getElementById("contactMap"),e=new google.maps.Map(d,c),f="images/marker.png",g=new google.maps.LatLng(48.8695000,2.38897);new google.maps.Marker({position:g,map:e,icon:f})}}),a.$on("$routeChangeSuccess",function(){e(),("home"==c.current.action||"project"==c.current.action)&&h(),1==a.isLoaded?a.$root.global.previousHash!=a.$root.global.actualProject&&angular.element($("#content")).controller().changeProject():a.isHome=!1}),f(window,"load",g);var E=setInterval(i,50),F=!1,G=0;a.$root.global.smallArrowLeave=function(){TweenMax.to($(this),.5,{width:"50px"})},a.$root.global.smallArrowOver=function(){TweenMax.to($(this),.5,{width:"65px"})},a.$root.global.arrowLeftOver=function(){function a(){b>0?(TweenMax.to($(".controls.left"),0,{backgroundPosition:"0px -"+75*b+"px"}),b--):(TweenMax.to($(".controls.left"),0,{backgroundPosition:"0px 0px"}),clearInterval(c))}var b=26,c=setInterval(a,25)},a.$root.global.arrowLeftLeave=function(){$(".controls.left").css("background-position","0 -1875px")},a.$root.global.arrowRightOver=function(){function a(){b>0?(TweenMax.to($(".controls.right"),0,{backgroundPosition:"0px -"+75*b+"px"}),b--):(TweenMax.to($(".controls.right"),0,{backgroundPosition:"0px 0px"}),clearInterval(c))}var b=26,c=setInterval(a,25)},a.$root.global.arrowRightLeave=function(){$(".controls.right").css("background-position","0 -1875px")},r(),$(".controls.right a").bind("click",function(b){if(1==a.$root.global.isSwitching)return b.preventDefault(),b.stopPropagation(),!1;var c=$(this).attr("href");c=c.split("/"),c=c[c.length-1],0==a.$root.global.inGallery?a.$root.clickGaAnalytics("Desktop_home_right","click","Projet suivant "+c):a.$root.clickGaAnalytics("Desktop_project_right","click","Projet suivant "+c),a.$root.global.kindofSwitch="right"}),$(".controls.left a").bind("click",function(b){if(1==a.$root.global.isSwitching)return b.preventDefault(),b.stopPropagation(),!1;var c=$(this).attr("href");c=c.split("/"),c=c[c.length-1],0==a.$root.global.inGallery?a.$root.clickGaAnalytics("Desktop_home_left","click","Projet précédent "+c):a.$root.clickGaAnalytics("Desktop_project_left","click","Projet précédent "+c),a.$root.global.kindofSwitch="left"}),$(".moredetails").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home_link_watch","click","Voir le projet "+a.$root.global.actualProject),k(),l(),a.$root.global.inGallery=!0,TweenMax.to($(".controls.left"),.5,{left:"-65px",ease:Linear.easeNone,onComplete:function(){$(".controls.left").removeAttr("style"),$(".controls.left").css("left","-65px"),$(".controls.left").addClass("alternative"),TweenMax.to($(".controls.left"),.5,{left:"0px",ease:Linear.easeNone})}}),TweenMax.to($(".controls.right"),.5,{right:"-65px",ease:Linear.easeNone,onComplete:function(){$(".controls.right").removeAttr("style"),$(".controls.right").css("right","-65px"),$(".controls.right").addClass("alternative"),TweenMax.to($(".controls.right"),.5,{right:"0px",ease:Linear.easeNone})}}),TweenMax.to($(".bottomProject"),.5,{height:"0",ease:Linear.easeNone}),TweenMax.to($(".moredetails"),.5,{opacity:"0",display:"none",ease:Linear.easeNone}),TweenMax.to($(".goup"),.5,{opacity:"1",display:"block",ease:Linear.easeNone}),TweenMax.to($(".project"),1,{top:"-"+(a.$root.global._WH-$("#header").height())+"px",ease:Circ.easeOut,onComplete:function(){$(".project .projectGallery").css("overflow","auto"),a.$root.clickGaAnalytics("Desktop_project_display","display","Affichage projet "+a.$root.global.actualProject)}}),TweenMax.to($(".textContainerFlip"),1,{top:"-="+(a.$root.global._WH-$("#header").height())+"px",ease:Circ.easeOut})}),TweenLite.set(".textContainerFlip",{perspective:800}),TweenLite.set(".textContentFlip",{transformStyle:"preserve-3d"}),TweenLite.set(".back",{rotationY:-180}),TweenLite.set([".back",".front"],{backfaceVisibility:"hidden"});var H,I;$(".headerFacebook").bind("mouseover",s),$(".headerFacebook").bind("mouseleave",t),$(".headerTwitter").bind("mouseover",u),$(".headerTwitter").bind("mouseleave",v),a.$root.global.mouseWheelGalleryFunction=function(b){(null!=b&&b.deltaY>0&&0==a.$root.global.positionScroll&&1==a.$root.global.inGallery||1==a.$root.global.isUp)&&(a.$root.global.isUp=!1,$(".project .projectGallery").css("overflow","hidden"),$(".projectActive .projectGallery").scrollTop(0),TweenMax.to($(".controls.left"),.5,{left:"-65px",ease:Linear.easeNone,onComplete:function(){$(".controls.left").removeAttr("style"),$(".controls.left").css("left","-65px"),$(".controls.left").removeClass("alternative"),TweenMax.to($(".controls.left"),.5,{left:"22px",ease:Linear.easeNone,onComplete:function(){m(),j()}})}}),TweenMax.to($(".controls.right"),.5,{right:"-65px",ease:Linear.easeNone,onComplete:function(){$(".controls.right").removeAttr("style"),$(".controls.right").css("right","-65px"),$(".controls.right").removeClass("alternative"),TweenMax.to($(".controls.right"),.5,{right:"22px",ease:Linear.easeNone})}}),a.$root.global.inGallery=!1,TweenMax.to($(".bottomProject"),.5,{height:"9px",ease:Linear.easeNone}),TweenMax.to($(".moredetails"),.5,{opacity:"1",display:"block",ease:Linear.easeNone}),TweenMax.to($(".goup"),.5,{opacity:"0",display:"none",ease:Linear.easeNone}),TweenMax.to($(".project"),1,{top:"0px",ease:Circ.easeOut}),TweenMax.to($(".textContainerFlip"),1,{top:"50%",ease:Circ.easeOut})),a.$root.clickGaAnalytics("Desktop_home_mousewheel_up","mousewheel","Remontée "+a.$root.global.actualProject)},a.$root.global.mouseWheelProjectFunction=function(b){0==a.$root.global.inGallery&&b.deltaY<0&&0==a.$root.global.inAbout&&(a.$root.clickGaAnalytics("Desktop_home_mousewheel_down","mousewheel","Descente "+a.$root.global.actualProject),$(".moredetails").trigger("click"))},$("body").not("#about").bind("mousewheel",a.$root.global.mouseWheelProjectFunction),$(".arrowBotAbout").bind("click",x),$(".arrowTopAbout").bind("click",y),a.$root.global.mouseWheelAbout=function(b){1==a.$root.global.aboutAllowScroll&&(a.$root.global.aboutAllowScroll=!1,$(".arrowBotAbout").unbind("click",x),$(".arrowTopAbout").unbind("click",y),$("#about").unbind("mousewheel",a.$root.global.mouseWheelAbout),b.deltaY<0?a.$root.global.aboutActivePart<2?(a.$root.global.aboutActivePart++,w()):(a.$root.global.aboutAllowScroll=!0,$(".arrowBotAbout").bind("click",x),$(".arrowTopAbout").bind("click",y),$("#about").bind("mousewheel",a.$root.global.mouseWheelAbout)):a.$root.global.aboutActivePart>0?(a.$root.global.aboutActivePart--,w()):(a.$root.global.aboutAllowScroll=!0,$(".arrowBotAbout").bind("click",x),$(".arrowTopAbout").bind("click",y),$("#about").bind("mousewheel",a.$root.global.mouseWheelAbout)))},$("#about").bind("mousewheel",a.$root.global.mouseWheelAbout),$(".projectActive .facebookProject").bind("mouseover",z),$(".projectActive .twitterProject").bind("mouseover",A),$(".imagePictoMail").bind("mouseover",B),$(".imagePictoLoca").bind("mouseover",C),$(".imagePictoCall").bind("mouseover",D),$(".goup").bind("click",function(){a.$root.global.isUp=!0,a.$root.global.mouseWheelGalleryFunction(null),a.$root.clickGaAnalytics("Desktop_go_up","click","Bouton remonter "+a.$root.global.actualProject)}),a.$root.gaAnalytics=function(){var b=window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search;ga("send","pageview",b,"/"+a.$root.global.actualProject,a.$root.global.actualProject)},a.$root.clickGaAnalytics=function(a,b,c){ga("send","event",encodeURIComponent(a),encodeURIComponent(b),c)},$("#logo").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home","click","Logo subskill")}),$(".headerAbout a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home","click","Menu à propos")}),$(".headerWorks a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home","click","Menu projets")}),$(".headerTwitter a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home","click","Lien Twitter")}),$(".headerFacebook a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home","click","Lien Facebook")}),$(".linkProject").bind("click",function(){a.$root.clickGaAnalytics("Desktop_project_link","click","Voir le projet "+a.$root.global.actualProject)}),$(".socials-icon-fb a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_project_facebook","click","Partage FB "+a.$root.global.actualProject)}),$(".socials-icon-tw a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_project_twitter","click","Partage Twitter "+a.$root.global.actualProject)})}]),angular.module("subskillApp").controller("HomeCtrl",["$scope","$timeout","$route","$routeParams",function(a){a.linkfront="",this.initHome=function(){$(".main li a").removeClass("active"),$(".main .headerWorks a").addClass("active"),1==a.$root.global.inGallery?TweenMax.to($(".projectActive"),.5,{top:"-"+(a.$root.global._WH-$("#header").height())+"px",ease:Linear.easeNone}):(TweenMax.to($(".projectActive"),.5,{top:"0%",ease:Linear.easeNone}),TweenMax.to($(".textContainerFlip"),.5,{top:"50%",ease:Linear.easeNone})),TweenMax.to($("#about"),.5,{top:"100%",ease:Linear.easeNone,onComplete:function(){$("#about").css("z-index","5")}}),TweenMax.to($("#contact"),.5,{top:"100%",ease:Linear.easeNone,onComplete:function(){$("#contact").css("z-index","5")}}),TweenMax.to($(".controls.left"),.5,{left:"0px",ease:Linear.easeNone}),TweenMax.to($(".controls.right"),.5,{right:"0px",ease:Linear.easeNone}),1==a.$root.global.inGallery&&TweenMax.to($(".goup"),.5,{opacity:"1",ease:Linear.easeNone})},this.changeProject=function(){function b(){1==a.$root.global.inGallery&&a.$root.global.positionScroll>0?TweenMax.to($(".project .projectGallery"),.5,{scrollTop:"0",ease:Linear.easeNone,onComplete:function(){$(".projectActive .projectGallery").getNiceScroll().hide(),$(".project .projectGallery").css({overflow:"hidden"}),$(".project .projectGallery .projectGalleryContainer").css({overflow:"hidden"}),$(".projectActive .projectGallery").scrollTop(0),c()}}):($(".project .projectGallery").css({overflow:"hidden"}),$(".project .projectGallery .projectGalleryContainer").css({overflow:"hidden"}),c())}function c(){"right"==a.$root.global.kindofSwitch?($(".prevAddProject").remove(),TweenMax.to($(".projectActive"),.5,{left:"-100%",ease:Linear.easeNone}),TweenMax.to($(".nextAddProject"),.5,{left:"0%",ease:Linear.easeNone,onComplete:function(){function b(){$(".projectActive .facebookProject").unbind("mouseover",b),TweenMax.to($(".projectActive .facebookProject"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .facebookProject").bind("mouseover",b)}})}function c(){$(".projectActive .twitterProject").unbind("mouseover",c),TweenMax.to($(".projectActive .twitterProject"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .twitterProject").bind("mouseover",c)}})}function d(){$(".projectActive .imagePictoMail").unbind("mouseover",d),TweenMax.to($(".projectActive .imagePictoMail"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .imagePictoMail").bind("mouseover",d)}})}function e(){$(".projectActive .imagePictoLoca").unbind("mouseover",e),TweenMax.to($(".projectActive .imagePictoLoca"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .imagePictoLoca").bind("mouseover",e)}})}function f(){$(".projectActive .imagePictoCall").unbind("mouseover",f),TweenMax.to($(".projectActive .imagePictoCall"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .imagePictoCall").bind("mouseover",f)}})}$(".projectActive").removeClass("projectActive").addClass("prevAddProject"),$(".nextAddProject").removeClass("nextAddProject").addClass("projectActive"),$(".projectActive").removeAttr("style"),$(".projectActive .facebookProject").bind("mouseover",b),$(".projectActive .twitterProject").bind("mouseover",c),$(".projectActive .imagePictoMail").unbind("mouseover",d),$(".projectActive .imagePictoMail").bind("mouseover",d),$(".projectActive .imagePictoLoca").unbind("mouseover",e),$(".projectActive .imagePictoLoca").bind("mouseover",e),$(".projectActive .imagePictoCall").unbind("mouseover",f),$(".projectActive .imagePictoCall").bind("mouseover",f),1==a.$root.global.inGallery&&($(".projectActive").css("top","-"+(a.$root.global._WH-$("#header").height())+"px"),a.$root.global.positionScroll=0),g("next"),$(".project .projectGallery").css("overflow-y","auto"),$(".project .projectGallery").css("overflow-x","hidden"),$(".project .projectGalleryContainer").css("overflow-y","auto"),$(".project .projectGalleryContainer").css("overflow-x","hidden")}})):"left"==a.$root.global.kindofSwitch?($(".nextAddProject").remove(),TweenMax.to($(".projectActive"),.5,{left:"100%",ease:Linear.easeNone}),TweenMax.to($(".prevAddProject"),.5,{left:"0%",ease:Linear.easeNone,onComplete:function(){function b(){$(".projectActive .facebookProject").unbind("mouseover",b),TweenMax.to($(".projectActive .facebookProject"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .facebookProject").bind("mouseover",b)}})}function c(){$(".projectActive .twitterProject").unbind("mouseover",c),TweenMax.to($(".projectActive .twitterProject"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".projectActive .twitterProject").bind("mouseover",c)}})}$(".projectActive").removeClass("projectActive").addClass("nextAddProject"),$(".prevAddProject").removeClass("prevAddProject").addClass("projectActive"),$(".projectActive").removeAttr("style"),1==a.$root.global.inGallery&&($(".projectActive").css("top","-"+(a.$root.global._WH-$("#header").height())+"px"),a.$root.global.positionScroll=0),$(".projectActive .facebookProject").bind("mouseover",b),$(".projectActive .twitterProject").bind("mouseover",c),$(".right a").attr("href","#/works/"+a.$root.global.jsonObj[0][a.$root.global.actualProject].next),$(".left a").attr("href","#/works/"+a.$root.global.jsonObj[0][a.$root.global.actualProject].prev),g("prev"),$(".project .projectGallery").css("overflow-y","auto"),$(".project .projectGallery").css("overflow-x","hidden")}})):g("actual");var b=$(".textContentFlip .Text.actif"),c=$(".textContentFlip .Text").not(".actif");c.find(".name").text(a.$root.global.jsonObj[0][a.$root.global.actualProject].name),c.find(".name").text().length>=9&&c.find(".name").text().length<14?(c.find(".name").css("font-size","40px"),c.find(".name").css("line-height","55px")):c.find(".name").text().length>=14&&c.find(".name").text().length<18?(c.find(".name").css("font-size","30px"),c.find(".name").css("line-height","60px")):c.find(".name").text().length>=18?(c.find(".name").css("font-size","30px"),c.find(".name").css("line-height","60px")):c.find(".name").text().length<9&&(c.find(".name").css("font-size","50px"),c.find(".name").css("line-height","50px")),c.find(".client").text(a.$root.global.jsonObj[0][a.$root.global.actualProject].client),c.find(".small-cover img").attr("src","uploads/"+a.$root.global.jsonObj[0][a.$root.global.actualProject].mini),c.addClass("actif"),b.removeClass("actif"),1==a.$root.global.flip?TweenMax.to($(".textContentFlip.content"),1.2,{rotationY:"+=180",ease:Power4.easeOut,onComplete:function(){$(".controls a").css("display","block"),a.$root.global.isSwitching=!1,d()}}):TweenMax.to($(".textContentFlip.content"),1.2,{rotationY:"-=180",ease:Power4.easeOut,onComplete:function(){$(".controls a").css("display","block"),a.$root.global.isSwitching=!1,d()}}),a.$root.global.flip=1==a.$root.global.flip?2:1}function d(){1==a.$root.global.isDirectUrl&&(e("prevAddProject",a.$root.global.jsonObj[0][a.$root.global.actualProject].prev),a.$root.global.isDirectUrl=!1)}function e(b,c){$("."+b+" .projectHomeImg img").attr("src",a.$root.global.jsonObj[0][c].cover),$("."+b+" .projectHomeImg img").attr("title",a.$root.global.jsonObj[0][c].name),$("."+b+" .projectHomeImg img").attr("alt",a.$root.global.jsonObj[0][c].name),$("."+b+" .projectHomeImg img").attr("data-width",a.$root.global.jsonObj[0][c].coverWidth),$("."+b+" .projectHomeImg img").attr("data-height",a.$root.global.jsonObj[0][c].coverHeight),angular.element($("#content")).controller().resizeImg($("."+b+" .projectHomeImg img")),$("."+b+" .projectGallery .contentGallery .description h1").text(a.$root.global.jsonObj[0][c].name),$("."+b+" .projectGallery .contentGallery .description h2").text(a.$root.global.jsonObj[0][c].client),$("."+b+" .projectGallery .contentGallery .description .projectDesc").text(a.$root.global.jsonObj[0][c].description),$("."+b+" .linkProjectText").text(a.$root.global.jsonObj[0][c].lien),$("."+b+" .linkProject").attr("href",a.$root.global.jsonObj[0][c].lien),$("."+b+" .galleryImage").empty(),$.each(a.$root.global.jsonObj[0][c].media,function(a,c){$("."+b+" .galleryImage").append("photo"==c.type?'<div class="photoProject"><img class="dataImgLoader" data-img="'+c.source+'" alt="" /></div>':'<div class="photoProject"><iframe src="//player.vimeo.com/video/'+c.source+'" width="802" height="452" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}),$("."+b+" .socials-icon-fb a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(a.$root.global.fbURL+"?h="+a.$root.global.jsonObj[0][c].hash));var d=""!=a.$root.global.jsonObj[0][c].hashtag?","+a.$root.global.jsonObj[0][c].hashtag:"";$("."+b+" .socials-icon-tw a").attr("href","https://twitter.com/share?url="+encodeURIComponent("http://www.subskill.com/#/works/"+a.$root.global.jsonObj[0][c].hash)+"&text="+encodeURIComponent(a.$root.global.tweetDesc)+"&hashtags=subskill"+d),$("."+b+" .linkProjectTrait").width($("."+b+" .projectGallery .contentGallery .description .linkProject").width()-22),$("."+b+" .projectGallery .contentGallery .description .linkProject").css("margin-left","-"+$("."+b+" .projectGallery .contentGallery .description .linkProject").width()/2+"px"),a.$root.global.kindofSwitch=null,$("."+b+" .galleryImage .dataImgLoader").each(function(){$(this).imgLoader({element:$(this),elementParent:$(this).parent(),imgSrc:$(this).attr("data-img"),imgLoading:"images/ajax-loader.gif",onComplete:function(){}})})}function f(b,c){var d;d="actual"==c?a.$root.global.actualProject:"nextAddProject"==b?a.$root.global.jsonObj[0][a.$root.global.actualProject].next:a.$root.global.jsonObj[0][a.$root.global.actualProject].prev,e(b,d),"actual"==c&&g(c),$(".controls a").css("display","block"),a.$root.global.kindofSwitch=null}function g(b){if("actual"==b){$(".projectActive").clone().removeClass("projectActive").addClass("nextAddProject").appendTo("#content");var c="nextAddProject";f(c,"next"),$(".projectActive").clone().removeClass("projectActive").addClass("prevAddProject").appendTo("#content");var c="prevAddProject";f(c,"prev")}else if("next"==b){$(".projectActive").clone().removeClass("projectActive").addClass("nextAddProject").appendTo("#content");var c="nextAddProject";f(c,"next")}else if("prev"==b){$(".projectActive").clone().removeClass("projectActive").addClass("prevAddProject").appendTo("#content");var c="prevAddProject";f(c,"prev")}$(".projectActive .projectGallery").unbind("mousewheel"),$(".projectActive .projectGallery").unbind("scroll"),$(".projectActive .projectGallery").bind("scroll",h),$(".projectActive .projectGallery").bind("mousewheel",a.$root.global.mouseWheelGalleryFunction)}function h(){a.$root.global.positionScroll=$(".projectActive .projectGallery").scrollTop()}if(a.$root.gaAnalytics(),a.$root.global.isSwitching=!0,null==a.$root.global.actualProject&&(a.$root.global.actualProject=a.$root.global.jsonObj[0][0]),$(".headerWorks a").attr("href","#/works/"+a.$root.global.actualProject),$(".project .projectGallery").css("overflow","hidden"),$(".right a").attr("href","#/works/"+a.$root.global.jsonObj[0][a.$root.global.actualProject].next),$(".left a").attr("href","#/works/"+a.$root.global.jsonObj[0][a.$root.global.actualProject].prev),""!=a.$root.global.jsonObj[0][a.$root.global.actualProject].lien?$(".textContainerFlip .Text a").attr("href",a.$root.global.jsonObj[0][a.$root.global.actualProject].lien):$(".textContainerFlip .Text a").attr("href","javascript:void(0);"),1==a.$root.global.isFirstProject){var i=$(".textContentFlip .Text.actif");
i.find(".name").text(a.$root.global.jsonObj[0][a.$root.global.actualProject].name),i.find(".name").text().length>=9&&i.find(".name").text().length<14?(i.find(".name").css("font-size","40px"),i.find(".name").css("line-height","55px")):i.find(".name").text().length>=14&&i.find(".name").text().length<18?(i.find(".name").css("font-size","30px"),i.find(".name").css("line-height","60px")):i.find(".name").text().length>=18&&(i.find(".name").css("font-size","30px"),i.find(".name").css("line-height","60px")),i.find(".client").text(a.$root.global.jsonObj[0][a.$root.global.actualProject].client),i.find(".small-cover img").attr("src","uploads/"+a.$root.global.jsonObj[0][a.$root.global.actualProject].mini);var j="projectActive";a.$root.global.isSwitching=!1,f(j,"actual")}else null==a.$root.global.kindofSwitch&&(e("nextAddProject",a.$root.global.actualProject),a.$root.global.kindofSwitch="right",a.$root.global.isSwitching=!0,a.$root.global.isDirectUrl=!0),b();a.$root.global.previousHash=a.$root.global.actualProject,a.$root.global.isFirstProject=!1},this.launchAbout=function(){function b(){a.$root.global.aboutAllowScroll=!0}function c(){function c(){var c=$(".hexagone img").size(),d=0;$(".hexagone img").each(function(){var l=$(this);m+=100,setTimeout(function(){l.imgSequence({that:l,imgName:j,indexActif:g,nbrDecimal:f,imgPath:i,imgType:k,delayInterval:h,numbreImg:e,onComplete:function(b){var c=b.parent(".hexagone"),d=c.attr("data-target");c.empty(),c.append('<div class="hexa-tour"></div><div class="hexa-centre"></div>'),c.find(".hexa-centre").unbind("mouseenter"),c.find(".hexa-centre").bind("mouseenter",a.enterAboutRuche),c.find(".hexa-centre").html("<div data-target='"+d+"' class='imgPartner "+d+"'></div>"),c.find(".hexa-centre").unbind("mouseleave"),c.find(".hexa-centre").bind("mouseleave",a.leaveAboutRuche),TweenMax.to(c.find(".hexa-centre").find(".imgPartner"),.3,{opacity:"1",ease:Linear.easeNone,overwrite:"all"})}});d==c-1&&b(),d++},m)})}function d(){var a=j;if(g.toString().length<f){for(var b=f-n.toString().length,h=0;b>h;h++)a+="0";a=a+n+".png"}else a=a+n+".png";var k=new Image,m=i+a;k.onload=function(){l++,e>n+1&&(n++,d()),l==e&&c()},k.src=m}$(".hexagone").each(function(){$(this).empty(),$(this).append('<img src="images/hexagone/composition1_00.png" />')});var e=26,f=2,g=0,h=50,i="images/hexagone/",j="composition1_",k="png",l=0,m=0,n=g;d()}$(".main li a").removeClass("active"),$(".main .headerAbout a").addClass("active"),TweenMax.to($(".projectActive"),.5,{top:"-100%",ease:Linear.easeNone}),TweenMax.to($(".textContainerFlip"),.5,{top:"-50%",ease:Linear.easeNone}),$("#contact").css("z-index","5"),$("#about").css("z-index","6"),TweenMax.to($("#about"),.5,{top:"0%",ease:Linear.easeNone,onComplete:function(){$("#contact").css("top","100%")}}),TweenMax.to($(".controls.left"),.5,{left:"-65px",ease:Linear.easeNone}),TweenMax.to($(".controls.right"),.5,{right:"-65px",ease:Linear.easeNone}),1==a.$root.global.inGallery&&TweenMax.to($(".goup"),.5,{opacity:"0",ease:Linear.easeNone});var d=1;0==a.$root.global.aboutActivePart?($(".anim").removeAttr("style"),TweenMax.from($(".pattern .square"),.2,{delay:d,scale:"0",opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".straight-line"),.3,{delay:d+.2,width:"0px",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".names .founded"),.3,{delay:d+.5,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".names .and"),.3,{delay:d+.7,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".names .haddad "),.3,{delay:d+.9,opacity:"0",right:"10px",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".names .denis"),.3,{delay:d+.9,opacity:"0",left:"10px",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".story .logo .square"),.3,{delay:d+1,scale:"0",opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".story .logo .shape"),.3,{delay:d+1.1,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".part-one-top"),.3,{delay:d+1.2,width:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".part-one-bot"),.3,{delay:d+1.2,width:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".part-two-top"),.3,{delay:d+1.2,width:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".part-two-bot"),.3,{delay:d+1.2,width:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".story .part-one p"),.3,{delay:d+1.5,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".story .part-two p"),.3,{delay:d+1.5,opacity:"0",ease:Linear.easeNone,overwrite:"all",onComplete:function(){b()}})):1==a.$root.global.aboutActivePart?($(".anim").removeAttr("style"),TweenMax.from($(".since"),.2,{delay:d,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".yearsTop, .yearsBot"),.2,{delay:d,width:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".years p"),.2,{delay:d+.1,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".alive"),.3,{delay:d+.2,opacity:"0",ease:Linear.easeNone,overwrite:"all"}),TweenMax.from($(".job-str"),.3,{delay:d+1,opacity:"0",ease:Linear.easeNone,overwrite:"all",onComplete:function(){b()}}),$(".metiers").each(function(){TweenMax.to($(this),0,{rotationY:"0",overwrite:"all"}),TweenMax.from($(this),.5,{delay:d+.2,rotationY:"+=360",opacity:"0",ease:Linear.easeNone,overwrite:"all"}),d+=.1}),$(".metiers").bind("mouseover",a.overMetiers)):2==a.$root.global.aboutActivePart&&c()},this.launchContact=function(){function b(){$(".contactPictoWrite").unbind("mouseover",b),TweenMax.to($(".contactPictoWrite"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".contactPictoWrite").bind("mouseover",b)}})}function c(){$(".contactPictoVisit").unbind("mouseover",c),TweenMax.to($(".contactPictoVisit"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".contactPictoVisit").bind("mouseover",c)}})}function d(){$(".contactPictoCall").unbind("mouseover",d),TweenMax.to($(".contactPictoCall"),.5,{rotationY:"+=360",ease:Linear.easeNone,onComplete:function(){$(".contactPictoCall").bind("mouseover",d)}})}$(".main li a").removeClass("active"),$(".main .headerContact a").addClass("active"),TweenMax.to($(".projectActive"),.5,{top:"-100%",ease:Linear.easeNone}),TweenMax.to($(".textContainerFlip"),.5,{top:"-50%",ease:Linear.easeNone}),$("#contact").css("z-index","6"),$("#about").css("z-index","5"),TweenMax.to($("#contact"),.5,{top:"0%",ease:Linear.easeNone,onComplete:function(){$("#about").css("top","100%")}}),TweenMax.to($(".controls.left"),.5,{left:"-65px",ease:Linear.easeNone}),TweenMax.to($(".controls.right"),.5,{right:"-65px",ease:Linear.easeNone}),1==a.$root.global.inGallery&&TweenMax.to($(".goup"),.5,{opacity:"0",ease:Linear.easeNone}),$(".contactPictoWrite").unbind("mouseover",b),$(".contactPictoWrite").bind("mouseover",b),$(".contactPictoVisit").unbind("mouseover",c),$(".contactPictoVisit").bind("mouseover",c),$(".contactPictoCall").unbind("mouseover",d),$(".contactPictoCall").bind("mouseover",d)},a.overMetiers=function(){var a=$(this).html();TweenMax.to($(".job-str"),.2,{opacity:0,onComplete:function(){$(".job-str").html(a),TweenMax.to($(".job-str"),.2,{opacity:1})}})},a.enterAboutRuche=function(){{var b=$(this);b.find(".imgPartner").attr("data-target")}b.unbind("mouseenter",a.enterAboutRuche),TweenMax.to(b,.5,{rotationY:"+=360",ease:Linear.easeNone,overwrite:"all",onComplete:function(){b.bind("mouseenter",a.enterAboutRuche)}})},a.leaveAboutRuche=function(){},this.resizeImg=function(b){$(b).css({width:a.$root.global._WW+"px",height:a.$root.global._WH+"px"});var c,d,e=$(b).attr("data-width"),f=$(b).attr("data-height"),g=a.$root.global._WW/e,h=a.$root.global._WH/f,i=h*e,j=g*f;j>a.$root.global._WH?(c=a.$root.global._WW,d=j):(c=i,d=a.$root.global._WH),$(b).css({width:c+"px",height:d+"px","margin-left":-((c-a.$root.global._WW)/2)+"px","margin-top":(a.$root.global._WH-d)/2+"px"})},$(".textContentFlip .Text a").bind("click",function(){a.$root.clickGaAnalytics("Desktop_home_link_project","click","Losange "+a.$root.global.actualProject)})}]);