<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <meta name="keywords" content="站长,网页特效,js特效,广告代码,zzjs,zzjs.net,sky,www.zzjs.net,站长特效 网" />
    <meta name="description" content="www.zzjs.net,站长特效网，站长必备js特效及广告代码。大量高质量js特效，提供高质量广告代码下载,尽在站长特效网" />
    <title>层的打开与关闭效果，sky整理收集。</title>
    <style type="text/css">
        body,span,div,td{font-size:12px;line-height:1.5em;color:#849BCA;}
        #bodyL{
            float:left;
            width:84px;
            margin-right:2px;
        }
        a.od{
            width:80px;
            height:25px;
            line-height:25px;
            text-align:center;
            font-weight:bold;
            border: 2px solid #849BCA;
            display:block;
            color:#547BC9;
            float:left;
            text-decoration:none;
            margin-top:2px;
        }
        a.od:link{
            background:#EEF1F8;
        }
        a.od:visited{
            background:#EEF1F8;
        }
        a.od:hover{
            background:#EEE;
        }
        a.od:active{
            background:#EEE;
        }
        #fd{
            width:500px;
            height:200px;
            background:#EDF1F8;
            border: 2px solid #849BCA;
            margin-top:2px;
            margin-left:2px;
            float:left;
            overflow:hidden;
            position:absolute;
            left:0px;
            top:0px;
            cursor:move;
            float:left;
            /*filter:alpha(opacity=50);*/
        }
        .content{
            padding:10px;
        }
    </style>
</head>
<body>
<a href="http://www.zzjs.net/">站长特效网</a>,站长必备的高质量网页特效和广告代码。zzjs.net，站长js特效。<hr>
<!--欢迎来到站长特效网，我们网站收集大量高质量js特效，提供许多广告代码下载，网址：www.zzjs.net，zzjs@msn.com,用.net打造靓站-->
<script type="text/javascript" src="http://www.zzjs.net/ad/tc.js"></script>
<div id="bodyL">
    <a href="#" class="od" onclick = "show('fd');return false;">
        [打开层]
    </a>
    <a href="#" class="od" onclick = "closeed('fd');return false;">
        [关闭层]
    </a>
</div>
<div id="fd" style="display:none;filter:alpha(opacity=100);opacity:1;">
    <div class="content">移动层</div>
</div>
<script type="text/javascript">
    var prox;
    var proy;
    var proxc;
    var proyc;
    function show(id){/*--打开--*/
        clearInterval(prox);
        clearInterval(proy);
        clearInterval(proxc);
        clearInterval(proyc);
        var o = document.getElementById(id);
        o.style.display = "block";
        o.style.width = "1px";
        o.style.height = "1px";
        prox = setInterval(function(){openx(o,500)},10);
    }
    function openx(o,x){/*--打开x--*/
        var cx = parseInt(o.style.width);
        if(cx < x)
        {
            o.style.width = (cx + Math.ceil((x-cx)/5)) +"px";
        }
        else
        {//欢迎来到站长特效网，我们的网址是www.zzjs.net，很好记，zz站长，js就是js特效，本站收集大量高质量js代码，还有许多广告代码下载。
            clearInterval(prox);
            proy = setInterval(function(){openy(o,200)},10);
        }
    }
    function openy(o,y){/*--打开y--*/
        var cy = parseInt(o.style.height);
        if(cy < y)
        {
            o.style.height = (cy + Math.ceil((y-cy)/5)) +"px";
        }
        else
        {
            clearInterval(proy);
        }
    }
    function closeed(id){/*--关闭--*/
        clearInterval(prox);
        clearInterval(proy);
        clearInterval(proxc);
        clearInterval(proyc);
        var o = document.getElementById(id);
        if(o.style.display == "block")
        {
            proyc = setInterval(function(){closey(o)},10);
        }
    }
    function closey(o){/*--打开y--*/
        var cy = parseInt(o.style.height);
        if(cy > 0)
        {
            o.style.height = (cy - Math.ceil(cy/5)) +"px";
        }
        else
        {//欢迎来到站长特效网，我们的网址是www.zzjs.net，很好记，zz站长，js就是js特效，本站收集大量高质量js代码，还有许多广告代码下载。
            clearInterval(proyc);
            proxc = setInterval(function(){closex(o)},10);
        }
    }
    function closex(o){/*--打开x--*/
        var cx = parseInt(o.style.width);
        if(cx > 0)
        {
            o.style.width = (cx - Math.ceil(cx/5)) +"px";
        }
        else
        {
            clearInterval(proxc);
            o.style.display = "none";
        }
    }
//鼠标拖动
    var od = document.getElementById("fd");
    var dx,dy,mx,my,mouseD;
    var odrag;
    var isIE = document.all ? true : false;
    document.onmousedown = function(e){
        var e = e ? e : event;
        if(e.button == (document.all ? 1 : 0))
        {
            mouseD = true;
        }
    }
    document.onmouseup = function(){
        mouseD = false;
        odrag = "";
        if(isIE)
        {
            od.releaseCapture();
            od.filters.alpha.opacity = 100;
        }
        else
        {
            window.releaseEvents(od.MOUSEMOVE);
            od.style.opacity = 1;
        }
    }
    //欢迎来到站长特效网，我们的网址是www.zzjs.net，很好记，zz站长，js就是js特效，本站收集大量高质量js代码，还有许多广告代码下载。
    //function readyMove(e){
    od.onmousedown = function(e){
        odrag = this;
        var e = e ? e : event;
        if(e.button == (document.all ? 1 : 0))
        {
            mx = e.clientX;
            my = e.clientY;
            od.style.left = od.offsetLeft + "px";
            od.style.top = od.offsetTop + "px";
            if(isIE)
            {
                od.setCapture();
                od.filters.alpha.opacity = 50;
            }
            else
            {
                window.captureEvents(Event.MOUSEMOVE);
                od.style.opacity = 0.5;
            }
            //alert(mx);
            //alert(my);
        }
    }
    document.onmousemove = function(e){
        var e = e ? e : event;
        //alert(mrx);
        //alert(e.button);
        if(mouseD==true && odrag)
        {
            var mrx = e.clientX - mx;
            var mry = e.clientY - my;
            od.style.left = parseInt(od.style.left) +mrx + "px";
            od.style.top = parseInt(od.style.top) + mry + "px";
            mx = e.clientX;
            my = e.clientY;
        }
    }
</script>
</body>
</html>